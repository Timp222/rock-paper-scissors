<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

        // Computer's choice
        function computerPlay() {
            let computerChoice = Math.floor(Math.random() * 3) + 1;
            if (computerChoice == 1) {
                computerChoice = 'Rock'
            } else if (computerChoice == 2) {
                computerChoice = 'Paper'  
            } else {
                computerChoice = 'Scissors'
            }
            return computerChoice;
        }

        // Player's choice
        function playerPlay() {
            let playerChoice = prompt('Rock, Paper or Scissors?');
            return playerChoice;
        }

        // Assigning a variable to computerPlay() function
        const computerSelection = computerPlay();

        // Assigning a variable to playerPlay() function
        const playerSelection = playerPlay().toLowerCase();
    
        // Singular round of RPS 
        function playRound(playerSelection, computerSelection){

            let roundMessage = '';
            let roundWinner = '';

            if (playerSelection == 'rock' && computerSelection == 'Scissors') {
                roundWinner = 'player';
                roundMessage = 'Computer picked SCISSORS. You WIN!'

            } else if (playerSelection == 'rock' && computerSelection == 'Rock') {
                roundMessage = 'Computer picked ROCK. DRAW!'

            } else if (playerSelection == 'rock' && computerSelection == 'Paper') {
                roundWinner = 'computer';
                roundMessage = 'Computer picked PAPER. You LOSE!'

            } else if (playerSelection == 'paper' && computerSelection == 'Paper') {
                roundMessage = 'Computer picked PAPER. DRAW!'
                
            } else if (playerSelection == 'paper' && computerSelection == 'Scissors') {
                roundWinner = 'computer';
                roundMessage = 'Computer picked SCISSORS. You LOSE!'

            } else if (playerSelection == 'paper' && computerSelection == 'Rock') {
                roundMessage = 'player';
                roundMessage = 'Computer picked ROCK. You WIN!'

            } else if (playerSelection == 'scissors' && computerSelection == 'Paper') {
                roundWinner = 'player';
                roundMessage = 'Computer picked PAPER. You WIN!'

            } else if (playerSelection == 'scissors' && computerSelection == 'Scissors') {
                roundMessage = 'Computer picked SCISSORS. DRAW!'

            } else if (playerSelection == 'scissors' && computerSelection == 'Rock') {
                roundWinner = 'computer';
                roundMessage = 'Computer picked ROCK. You LOSE!'
                
            } else {
                roundMessage = 'Invalid choice. Please pick Rock, Paper or Scissors!'
            }

            console.log(roundMessage)
            return roundWinner
        }

        function game(){

            let playerScore = 0;
            let computerScore = 0;
            let gamesPlayed = 0;
            let gameWinner = '';

            for (let i = 1; i <= 4; i++) {
                let overallWinner = playRound(playerPlay(), computerPlay());

                if (overallWinner === 'player') {
                    playerScore++;
                } else if (overallWinner === 'computer') {
                    computerScore++;
                }
            }

                if (playerScore > computerScore) {
                    gamesPlayed++;
                    gameWinner = 'Player';
                }
                else if (computerScore > playerScore) {
                    gamesPlayed++;
                    gameWinner = 'Computer';
                }
                else {
                    gamesPlayed++;
                    gameWinner = 'Draw';
                }

            console.log(`Player: ${playerScore} | Computer: ${computerScore}`);

            if (gameWinner === 'Draw') {
                console.log("There was no match winner. Draw!")
            } else {
                console.log(`Match winner: ${gameWinner}`)
            }
            }

        

        game()
    </script>   
</body>
</html>